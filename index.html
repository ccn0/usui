<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UserScript UI by CCN0</title>
    <link rel="icon" href="./logoicon.png">
    <link rel="canonical" href="https://ccn0.net/usui/">
    <meta name="theme-color" content="#666666" data-react-helmet="true">
    <meta name="og:title" content="SearchPlusPREMIUM">
    <meta property="og:url" content="https://ccn0.net/usui/index.html">
    <meta property="og:type" content="website">
    <meta name="creator" content="CCN0">
    <meta name="description" content="USUI is a lightweight JavaScript library/toolkit designed to make creating floating menus for Userscripts easier.">
    <meta property="og:description" content="USUI is a lightweight JavaScript library/toolkit designed to make creating floating menus for Userscripts easier.">
    <style>
        body {
            margin:0;
            background-color: #1a0c36;
        }

        @media (max-width: 500px) {
            #bbtest,#modeultest {
                max-width: 100%;
            }
        }

        iframe {
            user-select: none;
        }
    </style>
    <script src="./usui/USUI.js"></script>
    <link rel="stylesheet" href="./usui/USUI.css">
</head>
<body>
    <noscript>this is a javascript library toolkit thing, you could probably guess why this is showing up</noscript>
    <script>
    openIFrame({url:"./usui.html"});
    function openIFrame(params) {
        /* this code is most definitely INSECURE AND NOT FOR PRODUCTION, so I'd make my own if I were you... */
        const oiContainer = USUI.createPopup({
            stay: false,
            id: "iframe",
            layer: 399,
            fencing: true,
            title: "UserScript UI",
            position: ["5%","5%"],
            style: "height:auto;width:auto;height:90%;width:90%;",
            buttons: [
                {
                    textContent: "X",
                    title: "Close",
                    event: () => {
                        USUIalert("Should run <code>USUI.closeMenu(popup);</code>, but you <em>can</em> close this popup!", {usehtml: true, titletext: "Closeable"})
                    },
                },
                {
                    textContent: "Modules",
                    title: "View USUI's built-in input modules",
                    event: moduleTest
                },
                {
                    textContent: "Building Blocks",
                    title: "View USUI's built-in UI modules",
                    event: buildingblocks
                },
            ],
        });

        const errContent = USUI.createPopupContent({
            style:"padding: 0;display: flex;flex-direction: row;",
        });

        const iframe = document.createElement("iframe");
        iframe.style.cssText = "flex:1;border:none;width:100%;height:100%";

        if (params.html && !params.url) {
            const blob = new Blob([params.html], { type: "text/html" });
            const blobURL = URL.createObjectURL(blob);
            iframe.src = blobURL;
        } else {
            iframe.src = params.url;
        };
        errContent.appendChild(iframe);

        oiContainer.appendChild(errContent);
        document.body.appendChild(oiContainer);
    }
    
    function USUIalert(message = "",params = {
        titletext: "Alert",
        usehtml: false,
    }) {
        const alertContainer = USUI.createPopup({
            stay: false, 
            position: ["6%","6%"],
            id: "alertmenu",
            title: params.titletext,
            buttons: [
                {
                textContent: "X",
                title: "Close"+(params.titletext.length > 0 ? " "+params.titletext+" Window": ""),
                classes: ["closebtn"],
                event: () => {
                    USUI.closeMenu(alertContainer);}
                },
            ]
        });
        alertContainer.style.height = "auto";

        const alertContent = USUI.createPopupContent({
            style: "padding: 5px 15px;display: block;flex-direction: column;",
        });
        if (params.usehtml) {
            alertContent.innerHTML = message;
        } else {
            alertContent.textContent = message;
        };

        alertContainer.appendChild(alertContent);
        document.body.appendChild(alertContainer);

        alertContainer.querySelector("button").focus();
    };
    
    function moduleTest() {
        const alertContainer = USUI.createPopup({
            stay: false, 
            position: ["6%","6%"],
            id: "modeultest",
            title: "USUI Modules",
            theme: "USUI_popup_T_defaultdark",
            buttons: [
                {
                textContent: "X",
                title: "Close Modules Window",
                classes: ["closebtn"],
                event: () => {
                    USUI.closeMenu(alertContainer);}
                },
            ]
        });
        alertContainer.style.height = "auto";

        const alertContent = USUI.createPopupContent({
            style: "padding: 15px;display: block;flex-direction: column;",
        });

        const row1 = document.createElement("div");
        row1.style.marginBottom = "16px";

        row1.appendChild(document.createTextNode("USUI Color Input: "));

        const exampleRGB = USUI.modules.iRGB({
            red: 230, 
            green: 70,
            blue: 149
        });
        exampleRGB.addEventListener('input',(e)=>{
            console.log(e.target.dataset.value);
        });
        row1.appendChild(exampleRGB);

        alertContent.appendChild(row1);

        const row2 = document.createElement("div");

        row2.appendChild(document.createTextNode("Normal Color Input: "));

        const dumbRGB = document.createElement("input");
        dumbRGB.type = "color";
        dumbRGB.value = "#e64695";
        dumbRGB.addEventListener('input',(e)=>{
            console.log(e.target.value);
        });
        row2.appendChild(dumbRGB);

        alertContent.appendChild(row2);

        alertContainer.appendChild(alertContent);
        document.body.appendChild(alertContainer);

        alertContainer.querySelector("button").focus();
    };

    function buildingblocks() {
        const alertContainer = USUI.createPopup({
            stay: false, 
            position: ["6%","6%"],
            id: "bbtest",
            title: "USUI Building Blocks",
            theme: "USUI_popup_T_defaultdark",
            style: "height:auto;max-height:50vh;",
            buttons: [
                {
                    text: "X",
                    title: "Close Building Blocks Window",
                    classes: ["closebtn"],
                    event: () => {
                        USUI.closeMenu(alertContainer);
                    }
                },
            ]
        });

        const alertContent = USUI.createPopupContent({
            style:"flex:1;flex-direction:column;padding: 16px;display: flex;overflow-y:auto;",
        });

        alertContent.appendChild(USUI.modules.BBtext({
            text:"Building Blocks",
            tag:"h1",
        }));
        alertContent.appendChild(USUI.modules.BBtext({
            text:"Test out the Building Blocks modules!"
        }));

        const [exampleText,eginput] = USUI.modules.BBinput({
            id: "exampleInput",
            type:"text",
            label: "Text Input",
            value:"hello world!",
        });
        eginput.addEventListener('change',(e)=>{
            console.log(e.target.value);
        });
        alertContent.appendChild(exampleText);

        const [exampleColor,egcolori] = USUI.modules.BBinput({
            id: "exampleBBCI",
            type: "color",
            label: "Color Input",
            value:"#ffaa00",
        });
        egcolori.addEventListener('change',(e)=>{
            console.log(e.target.dataset.value);
            alertContainer.querySelector("#bbexampleparagraph").style.backgroundColor = e.target.dataset.value;
        });
        alertContent.appendChild(exampleColor);

        const [exampleBox,egbox] = USUI.modules.BBinput({
            id: "exampleBox",
            type:"checkbox",
            label: "Checkbox/Toggle",
            checked: true,
        });
        egbox.addEventListener('change',(e)=>{
            console.log(e.target.checked);
        });
        alertContent.appendChild(exampleBox);

        const [exampleRange,egrange] = USUI.modules.BBinput({
            id: "exampleRange",
            type:"range",
            label: "Range/Slider",
            tickSet: true,
            value: 10,
            min:0,
            max:100,
            step:5,
            ticks: 5,
            tooltip: true,
        });
        egrange.addEventListener('change',(e)=>{
            console.log(e.target.value);
        });
        alertContent.appendChild(exampleRange);

        alertContent.appendChild(USUI.modules.BBtext({
            tag:"hr",
        }));

        alertContent.appendChild(USUI.modules.BBtext({
            tag:"p",
            id: "bbexampleparagraph",
            style:"margin:0 16px 16px;",
            innerHTML:"<a href='#'>Building Blocks</a> are a set of modules designed to make creating forms or configs easier. You can create button groups and input fields very easily with them. Range inputs (sliders, <code>&lt;input type=\"range\"&gt;</code>) have a way to automatically add tick marks to indicate minimums and maximums, as long as they are provided."
        }));

        alertContent.appendChild(USUI.modules.BBbuttons({
            buttons: [
                {
                    text:"Alert 1",
                    title: "Alerts 1",
                    action: ()=>{
                        alert(1);
                    },
                },
                {
                    text:"Log 2+2",
                    title: "Log in the Console 2+2",
                    action: ()=>{
                        console.log(2+2);
                    },
                },
                {
                    text:"Close this",
                    title: "Literally closes this popup",
                    action: ()=>{
                        USUI.closeMenu(alertContainer);
                    },
                },
            ]
        }));

        alertContent.appendChild(USUI.modules.BBbuttons({
            buttons: [
                {
                    text:"Cancel",
                    title: "Does nothing",
                    id:"cancelbtn",
                    action: ()=>{
                    },
                },
                {
                    text:"Submit",
                    title: "Does nothing, the sequel",
                    classes: ["truactionblah"],
                    action: ()=>{
                    },
                },
            ]
        }));

        alertContainer.appendChild(alertContent);
        document.body.appendChild(alertContainer);

        alertContainer.querySelector("button").focus();
    };

    function bbTemplate() {
        const popupContainer = USUI.createPopup({
            stay: false, 
            position: ["6%","6%"],
            id: "bbtemplate",
            title: "Building Blocks Template",
            style: "height:auto;",
            buttons: [
                {
                    textContent: "X",
                    title: "Close Window",
                    classes: ["closebtn"],
                    event: () => {
                        USUI.closeMenu(popupContainer);
                    }
                },
            ]
        });

        const popupContent = USUI.createPopupContent({
            style: "padding: 15px;display: block;flex-direction: column;",
        });

        const [exampleText,eginput] = USUI.modules.BBinput({
            id: "exampleInput",
            type:"text",
            label: "Text Input",
            value:"#ffaa00",
        });
        eginput.addEventListener('change',(e)=>{
            console.log(e.target.value);
        });
        popupContent.appendChild(exampleText);

        popupContent.appendChild(USUI.modules.BBbuttons({
            buttons: [
                {
                    text:"Log 2+2",
                    title: "Log in the Console 2+2",
                    action: ()=>{
                        console.log(2+2);
                    },
                },
            ]
        }));

        popupContainer.appendChild(popupContent);
        document.body.appendChild(popupContainer);

        popupContainer.querySelector("button").focus();
    };
    </script>
</body>
</html>